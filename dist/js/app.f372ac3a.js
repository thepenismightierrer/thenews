(function(e){function t(t){for(var s,a,c=t[0],o=t[1],l=t[2],d=0,f=[];d<c.length;d++)a=c[d],r[a]&&f.push(r[a][0]),r[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,c=1;c<i.length;c++){var o=i[c];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},r={app:0},n=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var s=i("64a9"),r=i.n(s);r.a},1:function(e,t){},2:function(e,t){},2248:function(e,t,i){},"278a":function(e,t,i){},3:function(e,t){},"3ce2":function(e,t,i){"use strict";var s=i("c8de"),r=i.n(s);r.a},4:function(e,t){},4678:function(e,t,i){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return i(t)}function n(e){var t=s[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id="4678"},"46db":function(e,t,i){},5:function(e,t){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("a026"),r=i("8c4f"),n=(i("7514"),i("2f62")),a=(i("a481"),i("55dd"),i("7f7f"),i("ac6a"),i("bc3a")),c=i.n(a),o=i("cb8f"),l=i.n(o),u={sections:[{title:"world",name:"news-world"},{title:"canada",name:"news-canada"},{title:"politics",name:"news-politics"},{title:"business",name:"news-business"},{title:"tech & science",name:"news-technology"},{title:"indigenous",name:"news-indigenous"},{title:"opinion",name:"news-opinion"},{title:"health",name:"news-health"},{title:"calgary",name:"news-canada-calgary"},{title:"sports",name:"sports"}],getSections:function(){var e={};return this.sections.forEach(function(t,i){return e[t.title]={title:t.title,url:"https://www.cbc.ca/aggregate_api/v1/items?pageSize=40&lineupSlug=".concat(t.name),load:0===i,loaded:!1,briefs:[]}}),e},getBriefs:function(e){return c.a.get(e.url).then(function(e){var t=e.data;return t.sort(function(e,t){return t.publishedAt-e.publishedAt}),e.data}).then(function(t){var i=[];return t=t.filter(function(t){var s=!1;if(i.length<28&&i.indexOf(t.sourceId)<0)switch(i.push(t.sourceId),t.type){case"audio":case"stub":case"video":break;case"story":s=!0;break;default:break}return t.sectionTitle=e.title,t.url="https://www.cbc.ca/json/cmlink/".concat(t.sourceId),s}),t})},getImage:function(e,t,i){t=i.leadimage.originalimage.fileurl===i.storyimages[0].originalimageurl?t+1:t;var s=i.storyimages[t];return s&&s.description?{type:"image",index:t,key:e,url:s.originalimageurl,credit:s.credit,description:s.description}:this.getUnknown(e,t,"[IMAGE]")},getEmbed:function(e,t,i){var s=this.getUnknown(e,t,"[JUSTTEXT]"),r=i.embeddedcontent[t];if(r)switch(r.type){case"twitter":s={type:"twitter",index:t,key:e,body:r.body,url:r.url,credit:r.user};break;case"youtube":s={type:"iframe",subtype:"video",index:t,key:e,src:"https://www.youtube.com/embed/".concat(r.id)};break;default:break}return s},getText:function(e,t){var i=["p","em","strong","h2","h1","a"];return t=l()(t.trim(),{allowedTags:i,exclusiveFilter:function(e){return"p"===e.tag&&!e.text.trim()}}),t.length>0?{type:"text",value:t.replace(/<p/g,'<div class="p"').replace(/<\/p/g,"</div").trim(),key:e}:this.getUnknown(e,"none","[JUSTTEXT]")},getUnknown:function(e,t,i){return{type:"unknown",key:e,index:t,match:i}},getMedia:function(e,t,i){var s=i.media[t];if(!s)return this.getUnknown(e,t,"[MEDIA]");switch(s.flag){case"Video":return{index:t,key:e,subtype:"video",type:"iframe-video",src:"https://www.cbc.ca/i/caffeine/syndicate/?mediaId=".concat(s.extattrib.mediaid)};case"Audio":return{index:t,key:e,subtype:"audio",type:"iframe-audio",src:"https://www.cbc.ca/i/caffeine/syndicate/?mediaId=".concat(s.extattrib.mediaid)}}},getSimilar:function(e,t,i){var s=i.similarlinks[t];return s&&"story"===s.type?{index:t,key:e,sourceId:s.id,title:s.headline,imageUrl:s.headlineimage.originalimageurl,deck:s.deck,type:"similar",pubdate:s.pubdate}:this.getUnknown(e,t,"[SIMILAR]")},unfuck:function(e){var t=this;e.pieces=[],e.leadimage=e.leadmedia.originalimage?e.leadmedia:e.headlineimage,e.attribution={authors:[],source:e.source.length>0?null:e.source};for(var i=[],s=0;s<e.author.authors.length;s++){var r=e.author.authors[0];i.indexOf(r)<0&&(i.push(r),e.attribution.authors.push({key:"author".concat(s),name:r}))}e.debug=!1;var n=0,a=0,c=0,o=0,l=e.body,u=0;e.body.replace(/\[IMAGE\]|\[EMBED\]|\[SIMILAR\]|\[MEDIA\]|\[PHOTOGALLERY\]/g,function(i,s){var r=t.getText(o++,l.substring(u,s));switch(r&&e.pieces.push(r),i){case"[IMAGE]":e.pieces.push(t.getImage(o++,n++,e));break;case"[EMBED]":e.pieces.push(t.getEmbed(o++,a++,e));break;case"[MEDIA]":e.pieces.push(t.getMedia(o++,c++,e));break;case"[SIMILAR]":e.pieces.push(t.getSimilar(o++,c++,e));break;default:e.pieces.push({type:"unknown",match:i,index:s});break}return u=s+i.length,i});var d=this.getText(o++,l.substring(u));return d&&e.pieces.push(d),e}};i("bfa9");s["default"].use(n["a"]),s["default"].prototype.$Vuex=n["a"];var d=new n["a"].Store({state:{count:0,sections:u.getSections(),article:{schema:{},body:"",pieces:[],leadimage:{originalimage:{fileurl:null}},attribution:{authors:[],source:null}}},mounted:function(){},mutations:{fetchAnother:function(e){for(var t in e.sections){var i=e.sections[t];if(!0===i.load&&!1===i.loaded)break;if(!1===i.load){i.load=!0;break}}},setFocusedBrief:function(e,t){e.brief=e.briefs.find(function(e){return e.sourceId===t.sourceId})},setArticle:function(e,t){e.article=t.article},unsetArticle:function(e){e.article={schema:{},body:""}}},actions:{getBriefs:function(e,t){u.getBriefs(t).then(function(e){t.loaded=!0,t.briefs=e})}}}),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("CbcSuck")],1)},b=[],h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"suck"}},[i("NavBar"),i("h1",[e._v(e._s(this.$store.state.sections.length))]),e._l(this.$store.state.sections,function(t){return i("div",{key:t.title},[t.load?i("NewsSection",{attrs:{section:t}}):e._e()],1)})],2)},p=[],m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"section"}},[i("h1",[e._v(e._s(e.section.title))]),i("div",{staticClass:"row"},[e._l(e.section.briefs.slice(0,1),function(e,t){return i("ArticleBriefOmicron",{key:e.title,attrs:{brief:e,index:t}})}),e._l(e.section.briefs.slice(1,5),function(e,t){return i("ArticleBriefAlpha",{key:e.title,attrs:{brief:e,index:t}})})],2),i("div",{staticClass:"row"},[i("div",{staticClass:"col beta-col"},e._l(e.section.briefs.slice(5,13),function(e,t){return i("ArticleBriefBeta",{key:e.title,attrs:{brief:e,index:t}})}),1),i("div",{staticClass:"col"},e._l(e.section.briefs.slice(13),function(e,t){return i("ArticleBriefGamma",{key:e.title,attrs:{brief:e,index:t}})}),1)])])},v=[],j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col alpha"},[i("div",{attrs:{id:"brief"}},[i("ArticleLink",{attrs:{brief:e.brief}},[i("img",{attrs:{src:e.brief.typeAttributes.imageLarge}}),i("div",{staticClass:"content"},[i("h2",{staticClass:"title"},[e._v(e._s(e.brief.title))]),i("div",[e._v(e._s(e.brief.typeAttributes.deck))]),i("div",{staticClass:"when"},[e._v(e._s(e.sinceWhen))])])])],1)])},g=[],w=i("c1df"),y=i.n(w),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{attrs:{to:"/article/"+e.brief.sourceId}},[e._t("default")],2)},k=[],A={name:"ArticleLink",props:{brief:Object}},x=A,O=i("2877"),S=Object(O["a"])(x,_,k,!1,null,null,null),C=S.exports,E={name:"ArticleBriefAlpha",props:{brief:Object},components:{ArticleLink:C},computed:{sinceWhen:function(){return this.brief&&this.brief.publishedAt?y()(this.brief.publishedAt).fromNow():""}}},$=E,B=(i("fdae"),Object(O["a"])($,j,g,!1,null,"1cca0373",null)),I=B.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"beta"},[i("ArticleLink",{attrs:{brief:e.brief}},[i("ul",{staticClass:"list-group list-group-horizontal"},[i("li",{staticClass:"list-group-item"},[i("img",{attrs:{width:"140px",src:e.brief.images.square_140}})]),i("li",{staticClass:"list-group-item guts"},[i("h2",[e._v(e._s(e.brief.title))]),i("div",[e._v(e._s(e.brief.typeAttributes.deck))]),i("div",{staticClass:"when"},[e._v(e._s(e.sinceWhen))])])])])],1)},L=[],M=(i("c5f6"),{name:"ArticleBriefBeta",props:{index:Number,brief:Object},components:{ArticleLink:C},computed:{sinceWhen:function(){return this.brief?y()(this.brief.publishedAt).fromNow():""}}}),T=M,N=(i("c0d5"),Object(O["a"])(T,z,L,!1,null,null,null)),P=N.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gamma"},[i("ArticleLink",{attrs:{brief:e.brief}},[e._v("\n    "+e._s(e.brief.title)+"\n  ")])],1)},D=[],G={name:"ArticleBriefGamma",props:{index:Number,brief:Object},components:{ArticleLink:C}},H=G,V=(i("9712"),Object(O["a"])(H,U,D,!1,null,"5b476bea",null)),W=V.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col omicron"},[i("ArticleLink",{attrs:{brief:e.brief}},[i("h2",[e._v(e._s(e.brief.title))])]),i("div",{staticClass:"area"},[i("ArticleLink",{attrs:{brief:e.brief}},[i("img",{attrs:{src:e.brief.typeAttributes.imageLarge}}),i("div",{staticClass:"description"},[e._v("\n        "+e._s(e.title)+"\n        "),i("div",{staticClass:"when"},[e._v(e._s(e.sinceWhen))])])])],1)],1)},J=[],R={name:"ArticleBriefOmicron",props:{index:Number,brief:Object},components:{ArticleLink:C},computed:{title:function(){return this.brief.description.length<400?this.brief.description:this.brief.title},sinceWhen:function(){return this.brief?y()(this.brief.publishedAt).fromNow():""}}},q=R,X=(i("8bd0"),Object(O["a"])(q,F,J,!1,null,"c6d69e70",null)),Y=X.exports,K={name:"NewsSection",props:{section:Object,title:String,briefs:Array,url:String},components:{ArticleBriefOmicron:Y,ArticleBriefAlpha:I,ArticleBriefBeta:P,ArticleBriefGamma:W},mounted:function(){this.$store.dispatch("getBriefs",this.section)}},Q=K,Z=(i("99d3"),Object(O["a"])(Q,m,v,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-navbar",{staticClass:"navbar",class:{"navbar--hidden":!e.showNavbar},attrs:{toggleable:"lg",type:"dark",variant:"dark",sticky:""}},[i("b-navbar-brand",{attrs:{href:"./#/cbc"}},[e._v("the news without ads or tracking")])],1)},ie=[],se={name:"NavBar",data:function(){return{showNavbar:!0,lastScrollPosition:0}},mounted:function(){window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},methods:{onScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop;e<0||Math.abs(e-this.lastScrollPosition)<60||(this.showNavbar=e<this.lastScrollPosition,this.lastScrollPosition=e)}}},re=se,ne=(i("8692"),Object(O["a"])(re,te,ie,!1,null,"e10d3996",null)),ae=ne.exports,ce={name:"CbcSuck",components:{NavBar:ae,NewsSection:ee},props:{},mounted:function(){}},oe=ce,le=(i("b655"),Object(O["a"])(oe,h,p,!1,null,null,null)),ue=le.exports,de=i("5f5b");i("f9e3"),i("2dd8");s["default"].use(de["a"]);var fe={name:"app",components:{CbcSuck:ue},data:function(){return{title:"thenews"}},ready:function(){},methods:{leaving:function(){alert("bye")},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight+1200>=document.documentElement.offsetHeight;e&&this.$store.commit("fetchAnother")},goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}},created:function(){window.addEventListener("beforeunload",this.leaving),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},be=fe,he=(i("034f"),Object(O["a"])(be,f,b,!1,null,null,null)),pe=he.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"suck"}},[i("NavBar"),null!==e.article?i("div",{staticClass:"article"},[i("i",[e._v(e._s(e.article.byline))]),i("h1",[e._v(e._s(e.article.schema.name))]),i("div",{staticClass:"when"},[e._v(e._s(e.pubdate))]),i("div",{staticClass:"summary"},[e._v(e._s(e.article.summary))]),i("div",{staticClass:"headline-image"},[i("a",{attrs:{href:e.article.leadimage.originalimage.fileurl}},[i("img",{attrs:{src:e.article.leadimage.originalimage.fileurl}})]),i("div",[e._v(e._s(e.article.leadimage.description)+" "),i("i",[e._v(e._s(e.article.leadimage.credit))])])]),e._l(e.article.pieces,function(e){return i("ArticlePiece",{key:e.key,attrs:{piece:e}})}),i("i",e._b({},"i",e.article.authorsource,!1)),e._l(e.article.attribution.authors,function(e){return i("AuthorBio",{key:e.key,attrs:{author:e}})}),e.similars.length>0?i("div",{staticClass:"similar"},[i("h2",[e._v("Simliar Stories")]),i("div",{staticClass:"row"},e._l(e.similars,function(t){return i("div",{key:t.key,staticClass:"col",attrs:{brief:t}},[i("router-link",{attrs:{to:"/article/"+t.sourceId}},[i("img",{attrs:{src:t.imageUrl}}),i("h2",[e._v(e._s(t.title))]),i("div",{staticClass:"when"},[e._v(e._s(t.pubdate))]),i("div",[e._v(e._s(t.deck))])])],1)}),0)]):e._e()],2):e._e(),e.article.debug?i("JsonViewer",{attrs:{value:e.article,"expand-depth":5,copyable:"",sort:""}}):e._e()],1)])])},ve=[],je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["text"===e.piece.type?i("div",{domProps:{innerHTML:e._s(e.piece.value)}}):e._e(),"image"===e.piece.type?i("div",{staticClass:"image-wrapper"},[i("a",{staticClass:"image",attrs:{href:e.piece.url}},[i("img",{staticClass:"story",attrs:{src:e.piece.url}})]),i("div",[e._v(e._s(e.piece.description)+" "),i("i",{domProps:{innerHTML:e._s(e.piece.credit)}})])]):e._e(),"twitter"===e.piece.type?i("div",{staticClass:"tweet"},[i("div",{domProps:{innerHTML:e._s(e.piece.body)}}),i("a",{attrs:{href:e.piece.url}},[i("svg",{staticClass:"twtr-icon  twtr-color-fill--blue-dark  has-hover",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 24 24"}},[i("path",{attrs:{opacity:"0",d:"M0 0h24v24H0z"}}),i("path",{attrs:{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"}})]),i("i",[e._v(e._s(e.piece.credit))])])]):e._e(),e.piece.type.startsWith("iframe")?i("IFrameVideo",{attrs:{cssClass:e.piece.subtype,src:e.piece.src}}):e._e()],1)},ge=[],we=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.cssClass},[i("iframe",{staticClass:"the-frame",attrs:{src:e.src,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])},ye=[],_e={name:"IFrameVideo",props:{src:String,cssClass:String}},ke=_e,Ae=(i("3ce2"),Object(O["a"])(ke,we,ye,!1,null,"ff92d3e6",null)),xe=Ae.exports,Oe={name:"ArticlePiece",props:{piece:Object},components:{IFrameVideo:xe}},Se=Oe,Ce=Object(O["a"])(Se,je,ge,!1,null,"7f31fe28",null),Ee=Ce.exports,$e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("i",[e._v(e._s(e.author.name))])])},Be=[],Ie={name:"AuthorBio",props:{author:Object}},ze=Ie,Le=Object(O["a"])(ze,$e,Be,!1,null,null,null),Me=Le.exports,Te=i("349e"),Ne=i.n(Te),Pe={name:"ArticleDetail",components:{ArticlePiece:Ee,AuthorBio:Me,JsonViewer:Ne.a,NavBar:ae},computed:{similars:function(){if(this.$store.state.article){var e=this.$store.state.article.pieces.filter(function(e){return"similar"===e.type});return e}return[]},pubdate:function(){return this.$store.state.article?this.$store.state.article.pubdate===this.$store.state.article.lastupdate?"Published ".concat(this.$store.state.article.pubdate):"Published ".concat(this.$store.state.article.pubdate," / Updated ").concat(this.$store.state.article.lastupdate):""},article:function(){return this.$store.state.article},url:function(){return"https://www.cbc.ca/json/cmlink/".concat(this.$route.params.sourceId)}},watch:{$route:function(){var e=this;c.a.get(this.url).then(function(t){var i=t.data;u.unfuck(i),e.$store.commit("setArticle",{article:i})})}},mounted:function(){var e=this;c.a.get(this.url).then(function(t){var i=t.data;u.unfuck(i),e.$store.commit("setArticle",{article:i})}),this.$store.commit("unsetArticle")},methods:{loadArticle:function(){var e=this;c.a.get(this.url).then(function(t){var i=t.data;u.unfuck(i),e.$store.commit("setArticle",{article:i})})}},destroyed:function(){this.$store.commit("unsetArticle")}},Ue=Pe,De=(i("ddf4"),Object(O["a"])(Ue,me,ve,!1,null,null,null)),Ge=De.exports,He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-view")},Ve=[],We={},Fe=Object(O["a"])(We,He,Ve,!1,null,null,null),Je=Fe.exports;s["default"].use(r["a"]),s["default"].config.productionTip=!1;var Re=new r["a"]({routes:[{path:"/cbc",name:"root",component:pe,children:[{path:"article/:sourceId",component:Ge}]},{path:"/article/:sourceId",component:Ge},{path:"*",redirect:"/cbc"}],scrollBehavior:function(e,t,i){return i||{x:0,y:0}}});new s["default"]({el:"#app",store:d,router:Re,render:function(e){return e(Je)}})},"64a9":function(e,t,i){},"7fff":function(e,t,i){},8570:function(e,t,i){},8692:function(e,t,i){"use strict";var s=i("2248"),r=i.n(s);r.a},"87bd":function(e,t,i){},"8bd0":function(e,t,i){"use strict";var s=i("278a"),r=i.n(s);r.a},"95df":function(e,t,i){},9712:function(e,t,i){"use strict";var s=i("87bd"),r=i.n(s);r.a},"99d3":function(e,t,i){"use strict";var s=i("c23d"),r=i.n(s);r.a},b655:function(e,t,i){"use strict";var s=i("7fff"),r=i.n(s);r.a},c0d5:function(e,t,i){"use strict";var s=i("95df"),r=i.n(s);r.a},c23d:function(e,t,i){},c8de:function(e,t,i){},ddf4:function(e,t,i){"use strict";var s=i("46db"),r=i.n(s);r.a},fdae:function(e,t,i){"use strict";var s=i("8570"),r=i.n(s);r.a}});